@startuml 自动攻击逻辑流程
skinparam defaultFontName "PingFang SC"
skinparam dpi 300
scale 0.3

title 自动攻击程序逻辑

start

:GameScene.create();
:初始化 autoAttack = false;

partition "按键处理" {
  :监听 F 键按下;
  if (F 键按下?) then (是)
    :切换 autoAttack 状态;
    :播放提示音效;
    :通知 HUD 更新显示;
  else (否)
  endif
}

partition "update 循环" {
  :GameScene.update(time, delta);

  if (gameOver 或 isPaused?) then (是)
    :跳过;
  else (否)
    if (autoAttack == true?) then (是)
      :调用 performAttack();
      note right
        performAttack 内部检查:
        - player.canAttack()
        - attackCooldown
      end note
    else (否)
    endif
  endif
}

partition "HUD 显示" {
  :HUDScene 监听状态变化;
  :显示 "自动攻击: 开/关";
}

stop
@enduml
