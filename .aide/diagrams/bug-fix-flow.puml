@startuml bug-fix-flow
skinparam defaultFontName "PingFang SC"
skinparam dpi 300
scale 0.3

title Bug修复与画面优化 - 任务执行流程

start

:读取任务文档;
:分析问题根源;

partition "问题1: 主菜单按钮失效" {
  :定位 MainMenuScene.create();
  :添加 isStarting = false;
}

partition "问题2: 测试场景不可用" {
  :定位 TestScene.spawnEnemyWave();
  :修复参数类型（数字→配置对象）;
}

partition "问题3: 画面模糊" {
  :定位 main.js 配置;
  :添加 resolution: devicePixelRatio;
}

partition "问题4: 角色外观相同" {
  :检查 SVG 加载路径;
  if (路径正确?) then (是)
    :检查纹理使用;
  else (否)
    :修复资源路径;
  endif
}

partition "问题5: 敌人生成停止" {
  :调查 WaveManager 逻辑;
  :检查 spawnInterval 和 waveState;
  if (发现问题?) then (是)
    :修复生成逻辑;
  else (否)
    :记录为非Bug;
  endif
}

:运行游戏测试;

if (所有问题修复?) then (是)
  :更新文档;
  :提交代码;
else (否)
  :回退修复问题;
endif

stop

@enduml
