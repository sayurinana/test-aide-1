@startuml spec-02-task-flow
!theme plain
title 子计划2：技术原型开发 - 任务执行流程

start

partition "2.1 项目初始化" {
  :创建项目目录结构;
  :初始化 npm 项目;
  :安装 Vite + Phaser 3;
  :配置 vite.config.js;
  :创建入口文件;
  :验证: npm run dev 可启动;
}

partition "2.2 游戏场景搭建" {
  :创建 Phaser Game 配置;
  :实现 GameScene 主场景;
  :设置游戏画布尺寸;
  :实现相机跟随系统;
  :定义场景边界;
}

partition "2.3 玩家角色实现" {
  :创建 Player 类;
  :实现几何图形渲染
  (三角形/剑客轮廓);
  :实现键盘 WASD 移动;
  :实现鼠标方向朝向;
  :添加移动动画效果;
}

partition "2.4 基础攻击系统" {
  :实现鼠标点击攻击;
  :创建攻击范围检测;
  :实现挥剑动画效果;
  :添加攻击冷却机制;
}

partition "2.5 敌人基础实现" {
  :创建 Enemy 类;
  :实现敌人几何图形渲染;
  :创建 EnemySpawner 生成器;
  :实现追踪玩家 AI;
  :实现敌人对象池管理;
}

partition "2.6 碰撞检测系统" {
  :配置 Phaser 物理引擎;
  :实现攻击-敌人碰撞;
  :实现敌人-玩家碰撞;
  :添加伤害计算逻辑;
  :实现敌人死亡效果;
}

partition "2.7 基础 UI" {
  :创建 HUD 场景;
  :实现 HP 血条显示;
  :实现击杀计数器;
  :添加调试信息面板;
}

:技术原型完成;

stop
@enduml
