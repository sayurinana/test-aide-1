# 《御剑无双》项目导览

> 本文档面向 LLM，用于快速了解项目结构和脉络。
> 最后更新：2025-12-19

## 项目简介

《御剑无双》(Sword Immortal) 是一款在浏览器中直接游玩的无双割草游戏。以简约的几何美术风格承载东方仙侠的意境，结合 Roguelike 随机强化系统和无尽生存模式，带来独特的战斗体验。

**核心卖点**：
- 独特视觉：简约几何与仙侠元素的创新融合
- 爽快战斗：大量敌人 + 华丽技能 + 连击系统
- 高可重玩：Roguelike 随机强化，每局不同体验
- 即开即玩：浏览器直接运行，无需下载

## 技术栈

- **游戏框架**：Phaser 3
- **构建工具**：Vite
- **开发语言**：JavaScript
- **版本控制**：Git
- **工作流工具**：Aide

## 项目结构

```
t1/
├── .aide/                   Aide 工作流数据目录
│   ├── config.toml          核心配置
│   ├── flow-status.json     任务进度
│   ├── decisions/           决策记录
│   ├── diagrams/            流程图
│   ├── logs/                [空目录] 历史归档
│   ├── task-plans/          任务计划
│   └── project-docs/        项目文档（本目录）
├── docs/                    游戏设计文档 (GDD)
│   ├── gdd-index.md         GDD 总索引
│   ├── gdd-chapter1.md      第1章：游戏概念
│   ├── gdd-chapter2.md      第2章：世界观
│   ├── gdd-chapter3.md      第3章：核心玩法
│   ├── gdd-chapter4.md      第4章：角色系统
│   ├── gdd-chapter5.md      第5章：敌人系统
│   ├── gdd-chapter6.md      第6章：Roguelike系统
│   ├── gdd-chapter7.md      第7章：无尽模式
│   └── gdd-chapter8.md      第8章：UI/UX设计
├── .gitignore               Git 忽略配置
├── CHANGELOG.md             变更日志
├── README.md                项目说明
└── task-now.md              原始任务描述
```

> 详细结构见各区块文档

## 架构概述

```
┌─────────────────────────────────────────────────────────┐
│                    《御剑无双》架构                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐ │
│  │   主界面    │ ──→│   战斗场景  │ ──→│   结算界面  │ │
│  └─────────────┘    └──────┬──────┘    └─────────────┘ │
│                            │                            │
│                    ┌───────┴───────┐                    │
│                    │               │                    │
│              ┌─────┴─────┐   ┌─────┴─────┐              │
│              │ 强化选择  │   │   暂停    │              │
│              └───────────┘   └───────────┘              │
│                                                         │
├─────────────────────────────────────────────────────────┤
│  核心循环：                                              │
│  战斗 → 击杀敌人 → 波次结束 → 选择强化 → 下一波次       │
│                                          ↓              │
│                                  角色死亡 → 结算        │
└─────────────────────────────────────────────────────────┘
```

## 区块索引

| 区块 | 路径 | 文件数 | 说明 |
|------|------|--------|------|
| [项目根目录](./blocks/01-root.md) | `./` | 4 | 项目说明、变更日志、任务描述 |
| [docs 文档目录](./blocks/02-docs.md) | `docs/` | 9 | 游戏设计文档 (GDD) 完整 8 章 |
| [.aide 工作流目录](./blocks/03-aide.md) | `.aide/` | 18 | Aide 配置、进度、决策、计划 |

## 快速导航

### 想了解项目概况
- 查看 [项目根目录](./blocks/01-root.md) → README.md 和 CHANGELOG.md

### 想了解游戏设计
- 查看 [docs 文档目录](./blocks/02-docs.md)
- 游戏概念和核心循环 → gdd-chapter1.md
- 世界观和视觉风格 → gdd-chapter2.md
- 操作和技能设计 → gdd-chapter3.md

### 想了解系统设计
- 角色属性和成长 → gdd-chapter4.md
- 敌人类型和 AI → gdd-chapter5.md
- Roguelike 强化系统 → gdd-chapter6.md
- 无尽模式和评分 → gdd-chapter7.md
- UI/UX 界面设计 → gdd-chapter8.md

### 想了解工作流状态
- 查看 [.aide 工作流目录](./blocks/03-aide.md)
- 当前任务进度 → flow-status.json
- 任务计划 → task-plans/
- 用户决策记录 → decisions/

### 想开始开发
- 技术栈：Phaser 3 + Vite + JavaScript
- 参考 gdd-index.md 的目录结构预览
- MVP 目标：基础框架 + 核心战斗 + Roguelike + 无尽模式

## 游戏系统摘要

### 角色系统
- **6 基础属性**：HP(100)、ATK(10)、DEF(5)、SPD(200)、CRIT(5%)、CRITDMG(150%)
- **5 隐藏属性**：攻击速度、攻击范围、冷却缩减、生命恢复、吸血
- **5 技能**：剑气横扫、瞬步斩、护体真气、剑域、御风步

### 敌人系统
- **4 小怪**：飘影(追踪)、妖狼(冲锋)、蛇妖(远程)、怨魂(分裂)
- **1 精英**：邪修（3技能）
- **1 Boss**：妖将（双阶段）

### Roguelike 系统
- **4 级稀有度**：普通(60%)/稀有(25%)/史诗(12%)/传说(3%)
- **4 类强化**：属性/技能/特效/生存
- **20+ 强化道具**
- **5 种 Build 方向**：暴击流、攻速流、范围流、生存流、技能流

### 无尽模式
- **4 种波次**：普通/精英(每3波)/Boss(每5波)/狂潮(每10波)
- **难度递增**：敌人数量、属性、类型随波次提升
- **里程碑奖励**：波次 5/10/15/20/25/30/50 有特殊奖励
- **评分系统**：击杀数 × 连击系数 × 效率系数 × 难度系数

## Aide 工作流状态

**当前任务**：2025-12-19T22-20-36
- **当前环节**：confirm（用户确认）
- **当前步骤**：22
- **任务分支**：aide/001

**子计划进度**：
| 子计划 | 状态 |
|--------|------|
| 1. 前期设计 | ✅ 实现完成，待确认 |
| 2. 技术原型开发 | ⏳ 待开发 |
| 3. 核心系统实现 | ⏳ 待开发 |
| 4. 完善打磨 | ⏳ 待开发 |

## 统计信息

| 项目 | 数量 |
|------|------|
| 区块总数 | 3 |
| 总目录数 | 8（含 1 个空目录）|
| 总文件数 | 31 |
| 被忽略项 | 0 |
| 文档行数 | 约 2200 行 |

## 开发状态

🚧 **开发中** - 当前处于前期设计阶段

| 阶段 | 状态 | 说明 |
|------|------|------|
| 前期设计 | ✅ 完成 | GDD 文档完整 |
| 技术原型 | ⏳ 待开发 | - |
| 核心系统 | ⏳ 待开发 | - |
| 完善打磨 | ⏳ 待开发 | - |
