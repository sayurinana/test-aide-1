# 子计划 3：核心系统实现

## 目标
实现游戏的核心系统，包括完整战斗系统、技能系统、Roguelike 系统和无尽模式。

## 具体步骤

### 3.1 完整战斗系统
- 实现多种攻击方式
- 实现连击系统和连击计数
- 实现攻击特效（简约几何风粒子）
- 实现击退效果
- 实现无敌帧机制

### 3.2 技能系统
- 实现技能数据结构
- 实现技能冷却系统
- 实现 3-4 个初始技能
  - 范围攻击（剑气横扫）
  - 突进攻击（瞬步斩）
  - 防御/反击（护体真气）
  - 终极技能（剑域）
- 实现技能特效

### 3.3 敌人 AI 系统
- 实现多种敌人类型
  - 近战冲锋型
  - 远程投射型
  - 精英增强型
  - Boss 型
- 实现敌人行为状态机
- 实现敌人技能/攻击
- 实现敌人死亡特效

### 3.4 Roguelike 系统
- 实现强化道具数据结构
- 实现强化池和稀有度
- 实现波次结束选择界面
- 实现强化效果应用
- 实现 15-20 种基础强化
  - 属性提升类
  - 技能增强类
  - 特殊效果类

### 3.5 无尽模式系统
- 实现波次管理器
- 实现敌人波次配置
- 实现难度递增曲线
- 实现波次间隔和休息期
- 实现波次预告

### 3.6 伤害和数值系统
- 实现伤害计算公式
- 实现伤害数字显示
- 实现暴击系统
- 实现属性叠加计算

### 3.7 游戏状态管理
- 实现游戏暂停/继续
- 实现游戏结束判定
- 实现结算统计
- 实现重新开始

## 验证标准
- [ ] 技能系统正常运作
- [ ] 至少 4 种敌人类型可用
- [ ] Roguelike 选择系统正常
- [ ] 无尽模式波次递进正常
- [ ] 难度曲线感受合理
- [ ] 游戏流程完整可玩

## 依赖
- 前置：子计划 2（技术原型开发）
- 后续：子计划 4（完善打磨）
