# 更新日志 (CHANGELOG)

本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。

---

## [1.0.2] - 2025-12-20

### 新增
- **自动攻击功能**
  - 按 F 键切换自动攻击开关
  - 开启后自动按攻击速度朝光标方向攻击
  - HUD 显示自动攻击状态（开/关）
  - 游戏开始时默认关闭

- **SVG 图像美化**
  - 玩家和敌人使用 SVG 矢量图渲染
  - 7 种 SVG 图像：玩家、飘影、妖狼、蛇妖、怨魂、精英、Boss
  - 仙侠风格设计，矢量图在各种尺寸下保持清晰

### 变更
- Player.js: 使用 SVG 纹理替代 Graphics 绘制
- Enemy.js: 根据敌人类型使用对应 SVG 纹理
- MainMenuScene.js: 预加载 SVG 资源

---

## [1.0.1] - 2025-12-20

### 新增
- **CI/CD 自动部署**
  - GitHub Actions workflow 配置
  - 推送到 main/master 分支时自动构建和部署
  - GitHub Pages 部署支持

### 变更
- vite.config.js 支持动态 base 路径（兼容本地开发和 GitHub Pages）

### 文档
- 同步更新项目文档（project-docs）反映 CI/CD 配置变更

---

## [1.0.0] - 2025-12-20

### 新增
- **视觉效果系统 (VFXManager)**
  - 屏幕震动反馈
  - HitStop 击中暂停效果
  - 伤害数字飘字（暴击特效）
  - 死亡粒子效果
  - 剑光拖尾特效
  - 背景装饰和仙气光点

- **音效系统 (AudioManager)**
  - 程序化音效生成
  - 攻击/命中/击杀/受伤/选择/游戏结束音效
  - 音量控制和静音切换

- **UI 完善**
  - MainMenuScene 主菜单界面
  - 操作说明显示
  - 暂停菜单（继续/音效/返回）
  - 结算界面优化（动画效果）
  - 加载提示页面

- **游戏体验优化**
  - 操作手感优化
  - 敌人出现节奏调整
  - 战斗系统平滑度提升
  - 波次难度曲线优化
  - Roguelike 强化平衡调整

- **性能优化**
  - EnemySpawner 缓存优化
  - 渲染配置优化（批量渲染、抗锯齿）
  - 物理帧率锁定
  - 移动端缩放适配
  - 多点触控支持

### 修复
- 修复技能击杀时 WaveManager 计数不正确的问题
- 修复远程敌人投射物伤害计算不经过减伤/护盾的问题

### 技术细节
- 版本号升级至 v1.0.0
- 源代码约 5100+ 行
- 构建输出优化

---

## [0.3.0] - 2025-12-20

### 新增
- **战斗系统完善**
  - 连击系统 (ComboSystem)：最高 999 连击，伤害加成上限 3.0x
  - 伤害系统 (DamageSystem)：暴击判定、伤害数字显示、击退效果
  - 无敌帧机制：受伤后 500ms 无敌时间

- **技能系统**
  - 剑气横扫 (Q)：前方扇形范围技，8秒冷却
  - 瞬步斩 (E)：瞬移 + 伤害，6秒冷却
  - 护体真气 (R)：护盾 + 反伤，12秒冷却
  - 剑域 (Space)：持续伤害领域，20秒冷却
  - 技能栏 UI：冷却显示、激活状态特效

- **敌人 AI 系统**
  - 6 种敌人类型：飘影、妖狼、蛇妖、怨魂、精英、Boss
  - 行为状态机：idle/chase/attack/stunned/dead
  - 对象池复用优化

- **Roguelike 系统**
  - 26 种强化道具，4 种稀有度（普通/稀有/史诗/传说）
  - 4 大类别：攻击、防御、特殊、终极
  - 保底机制：10 次未出传说必出
  - 效果应用：属性加成、吸血、复活等

- **无尽模式系统**
  - 波次管理器 (WaveManager)
  - 4 种波次类型：普通、精英(每3波)、Boss(每5波)、狂潮(每10波)
  - 难度递增：HP/ATK/速度按波次缩放
  - 休息期：波次间强化选择

- **游戏状态管理**
  - ESC 暂停/继续
  - 游戏结束结算界面
  - 详细统计：波次、击杀、连击、伤害、强化数
  - 分数计算公式
  - 点击重新开始

- **HUD 增强**
  - 波次进度显示
  - 波次公告动画
  - 暂停覆盖层
  - 强化获取提示
  - 里程碑达成显示

### 技术细节
- 场景间事件驱动通信
- BuffSelectionScene 强化选择 UI
- 完整的属性计算链（基础 → Buff → 最终）

---

## [0.2.0] - 2025-12-19

### 新增
- **游戏框架**
  - Vite + Phaser 3 开发环境
  - 游戏场景系统架构
  - 热重载开发流程

- **玩家系统**
  - 简约几何风格角色渲染
  - WASD 键盘移动控制
  - 鼠标方向朝向系统
  - 角色物理碰撞

- **攻击系统**
  - 鼠标左键攻击
  - 扇形攻击范围检测
  - 挥剑弧线视觉效果
  - 攻击冷却机制

- **敌人系统**
  - 六边形几何敌人渲染
  - 追踪玩家 AI 行为
  - 敌人自动生成器
  - 对象池管理（支持 100+ 敌人）

- **碰撞与伤害**
  - 攻击-敌人碰撞检测
  - 敌人-玩家碰撞检测
  - 伤害计算与受击反馈
  - 敌人死亡效果

- **UI 系统**
  - HP 血条（动态颜色变化）
  - 击杀计数器
  - FPS 调试信息

- **游戏流程**
  - 游戏结束判定
  - 点击重新开始

### 技术细节
- 使用 Arcade Physics 物理引擎
- 敌人对象池复用，优化性能
- 场景系统分离（GameScene + HUDScene）

---

## [0.1.0] - 2025-12-19

### 新增
- **游戏设计文档 (GDD)**
  - 游戏概念定义：《御剑无双》核心循环和差异化设计
  - 世界观设定：九州仙界背景和简约几何视觉融合方案
  - 核心玩法设计：操作方式、连击系统、5 技能设计
  - 角色系统设计：6 基础属性 + 5 隐藏属性 + 成长机制
  - 敌人系统设计：4 种小怪 + 1 种精英 + 1 种 Boss
  - Roguelike 系统：20+ 强化道具、4 级稀有度、5 种 Build 方向
  - 无尽模式框架：波次机制、难度曲线、里程碑奖励、结算系统
  - UI/UX 设计：完整界面布局和交互规范

- **项目基础设施**
  - 任务规划文档
  - 流程图设计

### 文档
- `docs/gdd-index.md` - GDD 总览索引
- `docs/gdd-chapter1.md` ~ `docs/gdd-chapter8.md` - 完整 8 章设计文档

---

## 计划版本

### [1.1.0] - 待开发
- 更多敌人类型
- 更多强化道具
- 排行榜系统
- 成就系统
